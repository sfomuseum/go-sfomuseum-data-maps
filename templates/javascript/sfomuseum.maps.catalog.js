{{ define "catalog_js" -}}
// this file was generated by the go-sfomuseum-maps package
// {{ .Args }}
// {{ .LastModified }}

var sfomuseum = sfomuseum || {};
sfomuseum.maps = sfomuseum.maps || {};

sfomuseum.maps.catalog = (function(){

    var _catalog = {{ ToJSON .Catalog }};

    var self = {

	'data': function(){
	    return _catalog;
	},

	// this is a helper function to account for pre-this-package
	// code (20190924/thisisaaronland)

	'asYears': function(){
	    console.log("sfomuseum.maps.catalog.asYears is deprecated, please use sfomuseum.maps.catalog.asDictionary");
	    return self.asDictionary();
	},

	'asDictionary': function(){
	    
            var catalog = self.data();
	    var count = catalog.length;

            var years = {};

	    for (var i=0; i < count; i++){
		var details = catalog[i];
		var label = details['label'];
		years[label] = [ details['min_zoom'], details['max_zoom'], details['source'], details['identifier']];
            }

            return years;
	},
    };

    return self;
})();
{{ end }}
